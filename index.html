<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MindSync - Jeu de Synchro</title>
    <!-- On garde le lien vers la librairie externe ici -->
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <!-- Lien vers ton fichier CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="toast">Message</div>

    <div id="app-container">
        <header>
            <div class="logo">MindSync</div>
            <div class="score">Score: <span id="score">0</span></div>
        </header>

        <!-- Ã‰CRAN 1 : LOBBY -->
        <div id="view-lobby" class="view active">
            <div class="card">
                <h3>Bienvenue</h3>
                <p style="color: var(--text-muted); font-size: 0.9rem;">Ton code Ã  5 chiffres :</p>
                <input type="text" id="my-id" readonly value="..." onclick="this.select()">
                
                <hr style="border: 0; border-top: 1px solid #334155; margin: 20px 0;">
                
                <p style="color: var(--text-muted); font-size: 0.9rem;">Code de l'ami :</p>
                <input type="number" id="friend-id" placeholder="Ex: 12345">
                <button class="btn-primary" onclick="connect()">JOUER</button>
            </div>
        </div>

        <!-- Ã‰CRAN 2 : JEU -->
        <div id="view-game" class="view">
            <div id="victory-text"></div>

            <div class="game-board">
                <!-- Carte Moi -->
                <div class="game-card" id="card-me">
                    <div class="card-inner">
                        <div class="card-front">
                            <span class="label">Moi</span>
                            <div class="word" id="me-word-front">?</div>
                            <div class="ready-indicator"></div>
                        </div>
                        <div class="card-back">
                            <span class="label">Mot</span>
                            <div class="word" id="me-word-back"></div>
                        </div>
                    </div>
                </div>

                <!-- Carte Ami -->
                <div class="game-card" id="card-friend">
                    <div class="card-inner">
                        <div class="card-front">
                            <span class="label">Ami</span>
                            <div class="word" id="friend-word-front">?</div>
                            <div class="ready-indicator"></div>
                        </div>
                        <div class="card-back">
                            <span class="label">Mot</span>
                            <div class="word" id="friend-word-back"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <input type="text" id="game-input" placeholder="Ton mot secret..." oninput="updateInput()">
                <button id="btn-ready" class="btn-primary" onclick="sendWord()" disabled>PRÃŠT</button>
            </div>

            <!-- Ce bouton est cachÃ© par dÃ©faut et s'affiche aprÃ¨s la rÃ©vÃ©lation -->
            <button id="btn-next" class="btn-secondary" onclick="resetRound()" style="display:none;">Continuer</button>
        </div>
    </div>

    <!-- CHAT -->
    <button id="fab-chat" onclick="toggleChat()">ðŸ’¬</button>
    <div id="chat-panel">
        <div class="chat-header">
            <span>Chat</span>
            <button class="close-btn" onclick="toggleChat()">Ã—</button>
        </div>
        <div id="chat-messages"></div>
        <div style="padding: 10px;">
            <input type="text" id="chat-input" placeholder="Msg..." onkeypress="if(event.key==='Enter') sendChat()">
            <button class="btn-primary" style="margin-top: 5px;" onclick="sendChat()">Envoyer</button>
        </div>
    </div>

    <!-- Lien vers ton fichier JS (Ã  la fin du body) -->
    <script src="script.js"></script>
</body>
</html>
